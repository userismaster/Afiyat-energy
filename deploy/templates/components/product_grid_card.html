{% load static %}

<div class="product-grid-card">
    <div class="product-image">
        <a href="{{ product.get_absolute_url }}" class="product-link">
            {% if product.image %}
                <img src="{% if product.image.url %}{{ product.image.url }}{% else %}{% static 'images/no-image.png' %}{% endif %}" 
                     alt="{{ product.name }}"
                     class="product-img"
                     onerror="this.onerror=null; this.src='{% static 'images/no-image.png' %}';">
            {% else %}
                <div class="no-image">
                    <i class="fas fa-image"></i>
                    <span>Нет изображения</span>
                </div>
            {% endif %}
        </a>
    </div>
    
    <div class="product-content">
        {% if product.category %}
            <div class="product-category">
                {{ product.category.name }}
            </div>
        {% endif %}
        
        <h3 class="product-title">
            <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
        </h3>
        
        <div class="product-price">
            {{ product.price }} сум
        </div>
        
        <button class="add-to-cart-btn" 
                data-product-id="{{ product.id }}">
            <i class="fas fa-shopping-cart"></i>
            В корзину
        </button>
    </div>
</div>
